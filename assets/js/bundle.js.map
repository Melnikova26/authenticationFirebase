{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://task2/./src/assets/js/script.js"],"sourcesContent":["\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", function(){\r\n\tconst wrapper = document.querySelector('.wrapper__img'),\r\n\t\t  albumParent = document.querySelector('.main__items'),\r\n\t\t  parentSongList = document.querySelector('.aside__list'),\r\n\t\t  aside = document.querySelector('.aside'),\r\n\t\t  end = document.querySelector('.end'),\r\n\t\t  bar = document.querySelector('.bar'),\r\n\t\t  range = document.querySelector('.range'),\r\n\t\t  musicCurrentTime = document.querySelector('.start'),\r\n\t\t  musicDuration = document.querySelector('.end'),\r\n\t\t  mainAudio = document.querySelector('.main__audio');\r\n\tlet fuckTime = 0;\r\n\tlet isPausing =false;\r\n\tlet source;\r\n\r\n\r\n\tasync function fetchData() {\r\n\t\treturn await fetch('https://database-52211-default-rtdb.firebaseio.com/albums.json')\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => data)\r\n\t\t.catch(error => console.error(error));\r\n\t}\r\n\r\n\talbumParent.addEventListener('click', function(event){\r\n\t\tconst target = event.target;\r\n\t\tconst parent = target.closest('.main__item');\r\n\t\tmainAudio.pause();\r\n\t\tend.innerHTML = '';\r\n\t\tdocument.querySelector('.start').innerHTML = '00:00';\r\n\t\tbar.style.width = '0%';\r\n\t\t\r\n\t\tif(target && parent.hasAttribute('data-album')) {\r\n\t\t\tconst attribute = parent.getAttribute('data-album');\r\n\t\t\tfetchData().then(data => {\r\n\t\t\t\tdata.forEach(({img, title, artist, songs})=> {\r\n\t\t\t\t\tif (title === attribute){\r\n\t\t\t\t\t\twrapper.style.backgroundImage = `url(${img})`;\r\n\t\t\t\t\t\tconst header = document.createElement('div');\r\n\t\t\t\t\t\theader.classList.add(\"aside__header\");\r\n\t\t\t\t\t\theader.innerHTML = `\r\n\t\t\t\t\t\t\t<div class=\"aside__picture\">\r\n\t\t\t\t\t\t\t\t<img src=${img} alt=${title}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"aside__desc\">\r\n\t\t\t\t\t\t\t\t<div class=\"aside__title\">${title}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"aside__text\">${artist}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"aside__ost\">OST</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t\tdocument.querySelector('.aside__header').remove();\r\n\t\t\t\t\t\taside.prepend(header);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tparentSongList.innerHTML = '';\r\n\t\t\t\t\t\tsongs.forEach(elem => {\r\n\t\t\t\t\t\t\tconst element = document.createElement('li');\r\n\t\t\t\t\t\t\telement.classList.add(\"aside__item\");\r\n\t\t\t\t\t\t\telement.innerHTML = `\r\n\t\t\t\t\t\t\t\t\t<div class=\"wave\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"wave1\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"wave1\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"wave1\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"wave1\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"aside__num grey\">${elem.id}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"aside__song\">${elem.title}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"aside__singer grey\">${elem.singer}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"aside__total grey\">${elem.duration}</div>`;\r\n\t\t\t\t\t\t\tparentSongList.appendChild(element);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconst nums = document.querySelectorAll('.aside__num');\r\n\t\t\t\t\t\tconst waves = document.querySelectorAll('.wave');\r\n\r\n\t\t\t\t\t\tnums.forEach((item, index) => {\r\n\t\t\t\t\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\t\t\t\t\tnums.forEach(elem => {\r\n\t\t\t\t\t\t\t\t\telem.style.visibility = 'visible';\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\twaves.forEach(wave => {\r\n\t\t\t\t\t\t\t\t\twave.style.visibility = 'hidden';\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tmainAudio.src = songs[index].src;\r\n\t\t\t\t\t\t\t\tconsole.log(mainAudio.src, songs[index].src, document.querySelectorAll('.wave')[index]);\r\n\t\t\t\t\t\t\t\titem.style.visibility = 'hidden';\r\n\t\t\t\t\t\t\t\tdocument.querySelectorAll('.wave')[index].style.visibility = 'visible';\r\n\t\t\t\t\t\t\t\tif(isPausing && mainAudio.src === source){\r\n\t\t\t\t\t\t\t\t\tmainAudio.currentTime = fuckTime;\r\n\t\t\t\t\t\t\t\t\tisPausing = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tmainAudio.play();\r\n\t\t\t\t\t\t\t\trunWithAnimation('running');\r\n\t\t\t\t\t\t\t\tconsole.log(fuckTime);\r\n\t\t\t\t\t\t\t\tconsole.log(isPausing);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\twaves.forEach((item, index) => {\r\n\t\t\t\t\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\t\t\t\t\tsource = mainAudio.src;\r\n\t\t\t\t\t\t\t\titem.style.visibility = 'hidden';\r\n\t\t\t\t\t\t\t\tdocument.querySelectorAll('.aside__num')[index].style.visibility = 'visible';\r\n\t\t\t\t\t\t\t\tmainAudio.currentTime = fuckTime;\r\n\t\t\t\t\t\t\t\tmainAudio.pause();\r\n\t\t\t\t\t\t\t\tlet currentMin = Math.floor(fuckTime / 60);\r\n\t\t\t\t\t\t\t\tlet currentSec = Math.floor(fuckTime % 60);\r\n\t\t\t\t\t\t\t\tif(currentSec < 10){\r\n\t\t\t\t\t\t\t\t\tcurrentSec = `0${currentSec}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(currentMin < 10){\r\n\t\t\t\t\t\t\t\t\tcurrentMin = `0${currentMin}`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tmusicCurrentTime.innerHTML = `${currentMin}:${currentSec}`;\r\n\t\t\t\t\t\t\t\tisPausing = true;\r\n\t\t\t\t\t\t\t\tconsole.log(isPausing);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tfunction runWithAnimation(pausePlay, element = '.wave1'){\r\n\t\tconst animationItems = document.querySelectorAll(element);\r\n\t\tanimationItems.forEach(item => {\r\n\t\t\titem.style.animationPlayState = pausePlay;\r\n\t\t})\r\n\t}\r\n\r\n\tmainAudio.addEventListener('timeupdate', (e) => {\r\n\t\tconst currentTime = e.target.currentTime;\r\n\t\tfuckTime = currentTime;\r\n\t\tconst duration = e.target.duration;\r\n\t\tlet progressWidth = (currentTime / duration) * 100;\r\n\t\tbar.style.width = `${progressWidth}%`;\r\n\t\tmainAudio.addEventListener('loadeddata', () => {\r\n\t\t\t\r\n\t\t\tlet audioDuration = mainAudio.duration;\r\n\t\t\tlet totalMin = Math.floor(audioDuration / 60);\r\n\t\t\tlet totalSec = Math.floor(audioDuration % 60);\r\n\t\t\tif(totalMin < 10){\r\n\t\t\t\ttotalMin = `0${totalMin}`;\r\n\t\t\t}\r\n\t\t\tif(totalSec < 10){\r\n\t\t\t\ttotalSec = `0${totalSec}`;\r\n\t\t\t}\r\n\t\t\tmusicDuration.innerHTML = `${totalMin}:${totalSec}`;\r\n\t\t});\t\r\n\t\tlet currentMin = Math.floor(currentTime / 60);\r\n\t\tlet currentSec = Math.floor(currentTime % 60);\r\n\t\tif(currentSec < 10){\r\n\t\t\tcurrentSec = `0${currentSec}`;\r\n\t\t}\r\n\t\tif(currentMin < 10){\r\n\t\t\tcurrentMin = `0${currentMin}`;\r\n\t\t}\r\n\t\tmusicCurrentTime.innerHTML = `${currentMin}:${currentSec}`;\r\n\t});\r\n\r\n\r\n\r\n\trange.addEventListener('click', (e) => {\r\n\t\tlet barWidthVal = range.clientWidth;\r\n\t\tlet clickedOffsetX = e.offsetX;\r\n\t\tlet songDuration = mainAudio.duration;\r\n\r\n\t\tmainAudio.currentTime = (clickedOffsetX / barWidthVal) * songDuration;\r\n\t\tmainAudio.play();\r\n\t});\r\n\r\n\r\n\tmainAudio.addEventListener('ended', () =>{\r\n\t\trunWithAnimation('paused');\r\n\t});\r\n\r\n\tmainAudio.addEventListener('pause', () =>{\r\n\t\tdocument.querySelector('.start').innerHTML = '00:00';\r\n\t\tbar.style.width = '0%';\r\n\t\tconsole.log('pauzze');\r\n\t\tconsole.log(mainAudio.paused, 'пауза?');\r\n\t});\r\n\r\n\tfunction cards() {\r\n\t\tclass AlbomCard {\r\n\t\t\tconstructor(src, title, artist, parentSelector) {\r\n\t\t\t\tthis.src = src;\r\n\t\t\t\tthis.title = title;\r\n\t\t\t\tthis.artist = artist;\r\n\t\t\t\tthis.parent = document.querySelector(parentSelector);\r\n\t\t\t}\r\n\t\r\n\t\t\trender() {\r\n\t\t\t\tconst element = document.createElement('div');\r\n\t\t\t\telement.classList.add(\"main__item\");\r\n\t\t\t\telement.setAttribute('data-album', `${this.title}`);\r\n\t\r\n\t\t\t\telement.innerHTML = `\r\n\t\t\t\t\t<div class=\"main__picture\">\r\n                        <img src=${this.src} alt=${this.title}>\r\n                    </div>\r\n                    <div class=\"main__subheader\">${this.title}</div>\r\n                    <div class=\"main__text\">${this.artist}</div>\r\n\t\t\t\t`;\r\n\t\t\t\tthis.parent.append(element);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfetchData().then(data => {\r\n\t\t\tdata.forEach(({img, title, artist})=> {\r\n\t\t\t\tnew AlbomCard(img, title, artist, '.main__items').render();\r\n\t\t\t});\r\n\t\t});\r\n\t\r\n\t}\r\n\tcards();\r\n\r\n\t// search\r\n\r\n\tconst searchResults = document.querySelector('.header__results');\r\n\tfetchData().then(data => {\r\n\t\tdata.forEach(({img, title, artist})=> {\r\n\t\t\t\r\n\t\t});\r\n\t});\r\n\t\r\n});\r\n"],"names":["window","addEventListener","wrapper","document","querySelector","albumParent","parentSongList","aside","end","bar","range","musicCurrentTime","musicDuration","mainAudio","source","fuckTime","isPausing","async","fetchData","fetch","then","response","json","data","catch","error","console","runWithAnimation","pausePlay","element","arguments","length","undefined","querySelectorAll","forEach","item","style","animationPlayState","event","target","parent","closest","pause","innerHTML","width","hasAttribute","attribute","getAttribute","_ref","img","title","artist","songs","backgroundImage","header","createElement","classList","add","remove","prepend","elem","id","singer","duration","appendChild","nums","waves","index","visibility","wave","src","log","currentTime","play","currentMin","Math","floor","currentSec","e","progressWidth","audioDuration","totalMin","totalSec","barWidthVal","clientWidth","clickedOffsetX","offsetX","songDuration","paused","AlbomCard","constructor","parentSelector","this","render","setAttribute","append","_ref2","cards","_ref3"],"sourceRoot":""}